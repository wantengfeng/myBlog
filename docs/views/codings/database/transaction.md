---
title: 事务
date: '2022-7-7'
tags:
- MySQL
---
## 事务特征
1. 原子性：要么都做，要么都不做
2. 一致性：满足约束条件
3. 隔离性：事务提交前对其他事务都不可见，通常使用锁来实现
4. 持久性：事务一旦提交，结果就是永久性的，发生宕机也能恢复

## 事务类型
1. 扁平事务：最简单的一种，所有操作处于同一层次，要么都执行，要么都回滚，是使用最频繁的事务
2. 带保存点的扁平事务：保存点用来通知系统应该记住事务的当前状态，以便当发生错误时，事务能回到保存点当时的状态
3. 链事务：保存点模式的变种。提交事务时，释放不需要的数据对象，将必要的处理上下文隐式地传给下一个要开始的事务。提交
事务和开始下一个事务合并为一个原子操作。下一个事务可以看到上一个事务的结果。回滚仅限于当前事务，提交后释放当前事务所持有的锁。
4. 嵌套事务：由顶层事务控制着各个层次的子事务


